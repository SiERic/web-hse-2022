# Бизнес-сценарий

Сервис для хранения и поиска мемов.
Возможности: 
1. добавление нового мема (картинка, описание?, хештеги?)
2. поиск мема по хештегу/описанию

# Варианты баз данных

Можно хранить картинки прямо в базе данных (BLOB), но зачем. 
Так что они будут храниться в распределённой файловой системе, а в бд только ссылки на них.

Так что нужно хранить в бд: пользователей, мемы, хештеги, подойдёт любая реляционная база данных.

## MySQL

### Плюсы:
* Самая популярная реляционная БД. В связи с этим, для неё есть библиотеки на всех языках, о ней можно найти много информации и примеров использования

* В связи со своей популярностью, поставляется большинством облачных решений, также позволяя достаточно легко её масштабировать.

* Хорошо справляется с высокой нагрузкой. Если верить некоторым бенчмаркам, сравнима с Postgress и обходит её в случае, когда доступ к данным происходит преимущественно на чтение


### Минусы:

* Поддерживает только диалект SQL, не поддерживает полной функциональности

* Разработка находится в состоянии относительного застоя, проект поддерживается преимущественно одной компанией 
и не весь код доступен для разработчиков, включая тестировние найденных дыр безопасности.

## PostgreSQL

### Плюсы:

* Полностью open-source и активно поддерживается

* Самая продвинутая из реляционных БД, полностью соответствует SQL-стандартам ANSI/ISO

* Хорошо справляется с одновременным выполнение многих запросов

* Может параллелить выполнение одного запроса на нескольких серверах

### Минусы:

* В простых операциях чтения может уступать по времени более простым решениям

* Высокий порог входа (сложнее разбираться, чем с MySQL, например)

* При желании обновить версию Postgres, придётся реплицировать все данные

## CockroachDB

### Плюсы:
* Поддерживает SQL-запросы, почти 

* Сделан в целях отказоустойчивости и безопасности. Утверждается, что множественные отказы не приводят к неконсистентности данных или отказам всей БД.

* Отказоустойчивости и гарантии безопасности прошли тесты [Jepsen](https://www.cockroachlabs.com/blog/cockroachdb-beta-passes-jepsen-testing)

* Достаточно активно развивается, является open source проектом, поддерживаемый отдельной компанией

### Минусы:

* Поддерживает только диалект SQL, однако, заявляется, что достаточно совместим с постгресом

* Из-за своего изначального дизайна "отказоустойчивой" реляционной базы данных и использования в своём сердце алгоритма консенсуса, 
по производительности будет отставать от других баз данных, для которых консистентность будет менее значима, как, например двух других баз в этом сравнении

* Достаточно молодой проект, в связи с чем есть не очень много инструкций и клиентов для этой базы данных

# Итоговое решение

Так как сервис будет не очень большим и не претендующим на супер-отказоустойчивость, а операций на чтение будет сильно больше, чем на запись, удобнее всего окажется MySQL: 
она простая в настройке и не проигрывает более сложному PostgreSQL в производительности